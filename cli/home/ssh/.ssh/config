#|
#| OpenSSH client configuration
#|

# Note the order matters, the first setting that matches will be used.

# Include all files in $HOME/.ssh/config.d/ if any.
Include config.d/*

# Configure common git server providers.
Host gitlab.com github.com bitbucket.org
	Hostname %h
	User git
	#IdentitiesOnly no
	#IdentityFile ~/.ssh/keys/old/id_rsa-2048

# These settings will be applied if not specified before.
Host *
	ServerAliveInterval 300
	ServerAliveCountMax 2
	AddKeysToAgent yes
	# Do not use VisualHostKey as I will not remember this kind of stuff :)
	VisualHostKey no
	PasswordAuthentication no
	ChallengeResponseAuthentication no
	ForwardAgent no
	ForwardX11 no
	ForwardX11Trusted no
	# some hosts do not have these Ciphers/MACs
	Ciphers chacha20-poly1305@openssh.com,aes256-gcm@openssh.com
	MACs hmac-sha2-512-etm@openssh.com,hmac-sha2-256-etm@openssh.com
	KexAlgorithms curve25519-sha256@libssh.org,diffie-hellman-group-exchange-sha256
	HostKeyAlgorithms ssh-ed25519-cert-v01@openssh.com,ssh-rsa-cert-v01@openssh.com,ssh-ed25519,ssh-rsa
	# Do not offer keys unless explicited. Usefull when one
	# has many keys and in order to avoid key fingerprinting.
	IdentitiesOnly yes
	IdentityFile ~/.ssh/keys/tobias-card01

#|
#| Troubleshooting
#|
# no such identity: /home/fooBar/.ssh/keys/foo-key: No such file or directory
# see gpg-agent.conf

#|
#| References
#|
# * man 5 ssh_config
# * /etc/ssh/ssh_config
# * https://www.ssh.com/ssh/config/

